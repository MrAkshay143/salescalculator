<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">
	<script src="https://html2canvas.hertzen.com/dist/html2canvas.min.js"></script>

    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f0f0f0;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
        }

        .calculator-container {
            background-color: #ffffff;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            padding: 30px;
            width: 80%;
            max-width: 400px;
            animation: fadeInUp 0.6s ease-in-out;
        }

        .logo {
            text-align: center;
            margin-bottom: 20px;
        }

        .logo img {
            max-width: 100px;
            height: auto;
        }

        .input-field {
            position: relative;
            margin-bottom: 20px;
            animation: fadeIn 0.6s ease-in-out;
        }

        .input-field label {
            position: absolute;
            top: -10px;
            left: 10px;
            font-size: 12px;
            color: #999;
            transition: all 0.3s ease-in-out;
        }

        .input-field input:not(:placeholder-shown) + label {
            top: -30px;
            font-size: 10px;
            color: #333;
        }

        .btn-container {
            display: flex;
            align-items: center;
            margin-top: 10px;
        }

        .btn-container label {
            font-size: 12px;
            color: #666;
            margin-right: 10px;
        }

        .btn {
            background-color: #007bff;
            border-radius: 4px;
            padding: 3px 8px;
            font-size: 12px;
            color: white;
            cursor: pointer;
            transition: background-color 0.3s ease-in-out;
        }

        .btn:hover {
            background-color: #0056b3;
        }

        .result {
            display: none;
            margin-top: 20px;
            animation: fadeIn 0.6s ease-in-out;
        }

        @media (max-width: 600px) {
            .calculator-container {
                padding: 20px;
            }
        }

        .result p {
            margin: 5px 0;
            font-size: 14px;
        }

        /* Custom styling for collection input */
        .collection-field {
            display: none;
        }

        .collection-field label {
            position: absolute;
            top: -10px;
            left: 10px;
            font-size: 12px;
            color: #999;
            transition: all 0.3s ease-in-out;
        }

        .collection-field input:not(:placeholder-shown) + label {
            top: -30px;
            font-size: 10px;
            color: #333;
        }

        /* Styling for result */
        .result p.excess {
            color: #2ecc71; /* Green color for excess collection */
        }

        .result p.due {
            color: #e74c3c; /* Red color for due amount */
        }

        /* On/Off switch styling */
        .onoff-switch {
            position: relative;
            display: inline-block;
            width: 40px;
            height: 18px;
            background-color: #ccc;
            border-radius: 10px;
            margin-left: 10px;
            cursor: pointer;
        }

        .onoff-switch .switch-handle {
            position: absolute;
            width: 14px;
            height: 14px;
            background-color: white;
            border-radius: 50%;
            left: 1px;
            top: 1px;
            transition: left 0.3s ease-in-out;
        }

        .onoff-switch.active .switch-handle {
            left: 25px;
        }

        /* Styling for toggle labels */
        .toggle-label {
            font-size: 12px;
            color: #666;
            margin-right: 10px;
            vertical-align: middle;
        }

        /* Styling for completed message */
        .result p.completed {
            color: #2ecc71; /* Green color for completed message */
        }
		/* Add this to your existing CSS styles */

.btn.share-btn {
    background-color: #28a745; /* Green color for the button */
    margin-left: 10px;
}

.btn.share-btn:hover {
    background-color: #218838; /* Darker green color on hover */
}

    </style>
    <title>Sales Calculator Pro</title>
</head>
<body>
    <div class="calculator-container">
        <div class="logo">
            <img src="https://shalimarcorp.in/wp-content/themes/shalimarcorp/assest/images/logoimg.png" alt="Logo">
            <h5><u><b>Sales Calculator</b></u></h5>
                <center>
                    <!-- Embedded script -->
                    <script type="text/javascript"
                        src="https://cdn.livetrafficfeed.com/static/online/live.v2.js?text=ffffff&bg=e61c1c&ro=0&tz=Asia%2FKolkata">
                    </script>
                    <noscript id="LTF_online_website"></noscript>
                    <center>

        </div>
        <div class="input-field">
            <input type="tel" id="sale-weight" placeholder=" " required>
            <label for="sale-weight"><b>Sale Weight (kg)</b></label>
        </div>
        <div class="input-field">
            <input type="tel" id="sale-rate" placeholder=" " required>
            <label for="sale-rate"><b>Sale Rate (INR)</b></label>
        </div>
        <div class="input-field collection-field" id="collection-input-field">
            <input type="tel" id="collection-value" placeholder=" ">
            <label for="collection-value"><b>Collection Value (INR)</b></label>
        </div>
        <div class="btn-container">
    <button class="btn waves-effect waves-light" onclick="calculate()">Calculate</button>
    <button class="btn waves-effect waves-light share-btn" onclick="shareScreenshot()">Share</button>
</div>

        <div class="">
            <div class="btn-container">
                <label for="tcs-toggle" class="toggle-label"><font color="black"><b>Add</b></font> TCS</label>
                <label class="onoff-switch">
                    <input type="checkbox" id="tcs-toggle" class="filled-in" onchange="calculate()">
                    <span class="switch-handle"></span>
                </label>
            
        
                <label for="collection-toggle" class="toggle-label">Collection</label>
                <label class="onoff-switch">
                    <input type="checkbox" id="collection-toggle" class="filled-in" onchange="toggleCollectionInput()">
                    <span class="switch-handle"></span>
                </label>
            </div>
        </div>

        <div class="result">
            <p><b>Sale Weight:</b> <span></span> kg</p>
            <p><b>Sale Rate:</b> <span></span> INR</p>
            <p><b>Sale Value:</b> <span></span> INR</p>
            <p class="hide"><b>TCS (0.1%):</b> <span></span> INR</p>
            <p class="hide"><b>Net Sale Value:</b> <span></span> INR</p>

            <p class="excess hide"><b>Excess Collection:</b> <span></span> INR</p>
            <p class="due hide"><b>Due Amount:</b> <span></span> INR</p>
            <p class="completed hide"><b>Well Done! No Due</b></p>
        </div>
    </div>
    <script>
        function calculate() {
            const saleWeight = parseFloat(document.getElementById('sale-weight').value);
            const saleRate = parseFloat(document.getElementById('sale-rate').value);
            const collectionValue = parseFloat(document.getElementById('collection-value').value);
            const tcsToggle = document.getElementById('tcs-toggle').checked;
            const collectionToggle = document.getElementById('collection-toggle').checked;

            if (isNaN(saleWeight) || isNaN(saleRate)) {
                document.querySelector('.result').style.display = 'none';
                return;
            }

            const saleValue = saleWeight * saleRate;
            const tcs = tcsToggle ? saleValue * 0.001 : 0;
            const netSaleValue = saleValue + tcs;
            const excessCollection = collectionValue - netSaleValue;
            const dueAmount = netSaleValue - collectionValue;

            document.querySelector('.result').style.display = 'block';
            document.querySelector('.result p:first-child span').textContent = saleWeight.toFixed(2);
            document.querySelector('.result p:nth-child(2) span').textContent = saleRate.toFixed(2);
            document.querySelector('.result p:nth-child(3) span').textContent = saleValue.toFixed(2);

            if (tcsToggle) {
                document.querySelector('.result p:nth-child(4)').classList.remove('hide');
                document.querySelector('.result p:nth-child(4) span').textContent = tcs.toFixed(2);
                document.querySelector('.result p:nth-child(5)').classList.remove('hide');
                document.querySelector('.result p:nth-child(5) span').textContent = netSaleValue.toFixed(2);
            } else {
                document.querySelector('.result p:nth-child(4)').classList.add('hide');
                document.querySelector('.result p:nth-child(5)').classList.add('hide');
            }

            if (!collectionToggle) {
                document.querySelector('.result p.excess').classList.add('hide');
                document.querySelector('.result p.due').classList.add('hide');
                document.querySelector('.result p.completed').classList.add('hide');
            } else {
                document.querySelector('.result p.excess').classList.remove('hide');
                document.querySelector('.result p.due').classList.remove('hide');
                document.querySelector('.result p.completed').classList.remove('hide');

                if (excessCollection >= 0) {
                    document.querySelector('.result p.excess').classList.remove('hide');
                    document.querySelector('.result p.excess span').textContent = excessCollection.toFixed(2);
                } else {
                    document.querySelector('.result p.excess').classList.add('hide');
                }

                if (dueAmount >= 0) {
                    document.querySelector('.result p.due').classList.remove('hide');
                    document.querySelector('.result p.due span').textContent = dueAmount.toFixed(2);
                } else {
                    document.querySelector('.result p.due').classList.add('hide');
                }

                if (excessCollection === dueAmount) {
                    document.querySelector('.result p.excess').classList.add('hide');
                    document.querySelector('.result p.due').classList.add('hide');
                    document.querySelector('.result p.completed').classList.remove('hide');
                } else {
                    document.querySelector('.result p.completed').classList.add('hide');
                }
            }
        }

        const inputFields = document.querySelectorAll('.input-field input');
        inputFields.forEach(input => {
            input.addEventListener('input', calculate);
        });

        const collectionToggle = document.getElementById('collection-toggle');
        const collectionInputField = document.getElementById('collection-input-field');

        function toggleCollectionInput() {
            if (collectionToggle.checked) {
                collectionInputField.style.display = 'block';
            } else {
                collectionInputField.style.display = 'none';
                document.querySelector('.result p.excess').classList.add('hide');
                document.querySelector('.result p.due').classList.add('hide');
                document.querySelector('.result p.completed').classList.add('hide');
            }
        }

        collectionToggle.addEventListener('change', () => {
            calculate();
            toggleCollectionInput();
        });

        const tcsToggle = document.getElementById('tcs-toggle');
        tcsToggle.addEventListener('change', calculate);
		
		function shareScreenshot() {
    // Capture the screenshot using html2canvas
    html2canvas(document.querySelector('.calculator-container')).then(function (canvas) {
        // Convert canvas to data URL
        const screenshotUrl = canvas.toDataURL('image/png');

        // Create a temporary anchor element for sharing
        const link = document.createElement('a');
        link.href = screenshotUrl;
        link.download = 'sales_calculator.png';
        link.target = '_blank';

        // Trigger the anchor element to simulate a click
        link.click();
    });
}
    </script>

</body>

</html>


